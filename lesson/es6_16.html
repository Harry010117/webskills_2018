<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
	<p>분기와 한정 알고리즘</p>

	<script type="text/javascript">
		// let arr = [];
		// for (let i = 0; i < 10; i++) {
		// 	let arr_child = [];
		// 	for (let j = 0; j++ < 10; arr_child.push(~~(Math.random()*100)));
		// 	arr.push(arr_child);
		// 	arr[i][i] = 0;
		// }
		// console.log(Json.stringify.arr);
		const arr = [
					[0	,	 71	,	 58	,	 20	,	 24	,	 66	,	 39	,	 88	,	 50	,	 97	],
					[17	,	 0	,	 70	,	 84	,	 14	,	 96	,	 33	,	 97	,	 50	,	 81	],
					[61	,	 16	,	 0	,	 14	,	 59	,	 34	,	 30	,	 77	,	 65	,	 71	],
					[47	,	 87	,	 99	,	 0	,	 54	,	 25	,	 84	,	 6	,	 29	,	 96	],
					[83	,	 67	,	 98	,	 92	,	 0	,	 89	,	 69	,	 72	,	 77	,	 25	],
					[36	,	 28	,	 56	,	 26	,	 41	,	 0	,	 84	,	 36	,	 42	,	 7	],
					[90	,	 91	,	 2	,	 81	,	 61	,	 10	,	 0	,	 20	,	 93	,	 83	],
					[54	,	 85	,	 42	,	 12	,	 81	,	 69	,	 91	,	 0	,	 68	,	 30	],
					[97	,	 37	,	 31	,	 26	,	 58	,	 39	,	 96	,	 1	,	 0	,	 11	],
					[69	,	 81	,	 15	,	 72	,	 1	,	 75	,	 61	,	 91	,	 55	,	 0	]
				];

				const lbl = ['경기','인천','서울','광주','충남','충북','경남','경북','부산','대구']; 
				

				const selected = [0, 1, 5, 7];
				let minPath = [];

				let min = 10000;
				let txt = "";
				let costArr = [];

				for(idx of selected) shortPath(idx, [idx], 0);

				console.log(min, minPath);

				for(const idx in minPath){
					if(idx > 0) {
						txt += " -> ";
						costArr.push(arr[minPath[idx-1]][minPath[idx]]);
					}
					txt += lbl[minPath[idx]];
				}

				console.log(txt);
				console.log(costArr);

				function shortPath(start, path, cost){
					if (min<cost) return;
					if(selected.length == path.length){
						if(cost < min){
							min = cost;
							minPath = path;
						}
						return 
					}

					for(idx of selected){
						if(~path.indexOf(idx)) continue;
						let newPath = path.slice();
						newPath.push(idx);
						shortPath(idx, newPath, cost+arr[start][idx]);
					}
				}
	</script>
</body>
</html>